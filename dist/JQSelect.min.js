!function(e){function t(t,l){function i(e){return null!==e&&void 0!==e}function a(t){return t=t||l.data,!!e.isArray(t)&&0==t.filter(function(t){return e.isPlainObject(t)}).length}function n(e){var t=Object.keys(e);if(l.groupPriority&&l.groupPriority.length>0){var i=l.groupPriority;"string"==typeof i&&(i=i.split(",")),i&&i.forEach(function(e,l){var i=t.indexOf(e);i>-1&&(t.splice(i,1),t.splice(l,0,e))})}return t}function s(e){y._isLoading=e,F.toggleClass("loading",e)}function o(t){t=t||F.find(".jq-select-popup");var i=T.offset(),a=T.height(),n=0,s=y._filterData||l.data;if(l.group){for(var o in s)if(s[o].length>0&&(n+=l.groupTitleHeight+s[o].length*l.itemHeight,n>l.listHeight)){n=l.listHeight;break}}else s&&s.length>0&&(n=s.length*l.itemHeight);n>l.listHeight&&(n=l.listHeight),l.multi&&l.hideSelectAll===!1&&(n+=l.selectAllHeight),l.hideFilter===!1&&(n+=l.filterHeight),l.hideOKButton!==!1&&l.hideCloseButton!==!1&&l.hideClearButton!==!1||(n+=l.buttonsHeight);i.top+a+n-e(window).scrollTop();i.top+a+n-e(window).scrollTop()>e(window).height()?t.css("top",-n):t.css("top",a)}function c(){var t;if(l.group){t={};for(var a in l.data){var n=l.data[a].filter(function(t){return e.isPlainObject(t)?i(t)&&i(t[l.displayField])&&t[l.displayField].toString().toUpperCase().indexOf(y._filterText.toUpperCase())>-1:i(t)&&t.toString().toUpperCase().indexOf(y._filterText.toUpperCase())>-1});n.length>0&&(t[a]=n)}}else t=l.data.filter(function(t){return e.isPlainObject(t)?i(t)&&i(t[l.displayField])&&t[l.displayField].toString().toUpperCase().indexOf(y._filterText.toUpperCase())>-1:i(t)&&t.toString().toUpperCase().indexOf(y._filterText.toUpperCase())>-1});return t}function r(e){this._renderTimeoutIds&&clearTimeout(this._renderTimeoutIds),this._renderTimeoutIds=setTimeout(d.bind(y,e),100/6)}function d(t){var n=l.data,s=y._filterData||l.data,o=t&&t.scrollTop||0,c=F.find(".jq-select-list-scroller").html("");if(heightCount=0,l.group){if(e.isEmptyObject(n))return;for(var r=!0,d=0,u=y._sortedGroupName.length;d<u;d++){var h=y._sortedGroupName[d];if(heightCount>o+l.listHeight)break;if(heightCount<=o+l.listHeight&&heightCount+l.groupTitleHeight+l.itemHeight*n[h].length>=o){var f=e(A).attr("data-name",h);if(r&&(c.append('<div style="height:'+heightCount+'px"></div>'),r=!1),heightCount+=l.groupTitleHeight,l.multi){if(y._selectedValue&&s&&y._selectedValue[h]&&s[h]){var g=0;a(s[h])?s[h]&&s[h].forEach(function(e){y._selectedValue[h].indexOf(e)>-1&&g++}):s[h]&&s[h].forEach(function(e){for(var t=0,i=y._selectedValue[h].length;t<i;t++)if(y._selectedValue[h][t][l.valueField].toString()===e[l.valueField].toString()){g++;break}}),g===s[h].length&&f.find(".jq-select-group-checkbox").addClass(l.checkboxActivatedCls)}}else f.find(".jq-select-group-checkbox").remove();f.find(".jq-select-group-title-name").html(h).attr("title",h);for(var v=f.find(".jq-select-group-children"),_=!0,g=0,m=0,x=n[h].length;m<x;m++)if(void 0!==n[h][m]){var C=n[h][m];if(heightCount+l.itemHeight>=o&&heightCount<=o+l.listHeight){var j=e(w).attr("data-index",m);if(_&&(v.append('<div style="height:'+l.itemHeight*m+'px"></div>'),_=!1),a(n[h])){if(y._filterText&&C.toUpperCase().indexOf(y._filterText.toUpperCase())==-1)continue;l.multi?y._selectedValue[h]&&1==y._selectedValue[h].filter(function(e){return i(e)&&i(C)&&e.toString()===C.toString()}).length&&j.find(".jq-select-item-checkbox").addClass(l.checkboxActivatedCls):(j.find(".jq-select-item-checkbox").remove(),i(y._selectedValue[h])&&i(C)&&y._selectedValue[h].toString()===C.toString()&&j.addClass(l.checkboxActivatedCls)),C[l.iconClsField]?j.find(".jq-select-item-icon").addClass(C[l.iconClsField]):j.find(".jq-select-item-icon").remove(),j.find(".jq-select-item-name").html(C).attr("title",C)}else{if(y._filterText&&C[l.displayField].toUpperCase().indexOf(y._filterText.toUpperCase())==-1)continue;l.multi?y._selectedValue[h]&&1==y._selectedValue[h].filter(function(e){return i(e[l.valueField])&&i(C[l.valueField])&&e[l.valueField].toString()===C[l.valueField].toString()}).length&&j.find(".jq-select-item-checkbox").addClass(l.checkboxActivatedCls):(j.find(".jq-select-item-checkbox").remove(),i(y._selectedValue[h])&&i(y._selectedValue[h][l.valueField])&&i(C)&&C[l.valueField]&&y._selectedValue[h][l.valueField].toString()===C[l.valueField].toString()&&j.addClass(l.checkboxActivatedCls)),C[l.iconClsField]?j.find(".jq-select-item-icon").addClass(C[l.iconClsField]):j.find(".jq-select-item-icon").remove(),j.find(".jq-select-item-name").html(C[l.displayField]).attr("title",C[l.displayField])}v.append(j),g++}heightCount+=l.itemHeight}g>0?c.append(f):heightCount-=l.groupTitleHeight}else{heightCount+=l.groupTitleHeight;for(var g=0,m=0,x=n[h].length;m<x;m++)if(void 0!==n[h][m]){var C=n[h][m];if(a(n[h])){if(y._filterText&&C.toUpperCase().indexOf(y._filterText.toUpperCase())==-1)continue}else if(y._filterText&&C[l.displayField].toUpperCase().indexOf(y._filterText.toUpperCase())==-1)continue;g++,heightCount+=l.itemHeight}0==g&&(heightCount-=l.groupTitleHeight)}}var V=0;for(var h in s)V+=l.groupTitleHeight+l.itemHeight*s[h].length;c.height(V)}else{if(!e.isArray(n))return;for(var S=a(n),_=!0,m=0,x=n.length;m<x;m++)if(void 0!==n[m]){if(heightCount>o+l.listHeight)break;if(heightCount+l.itemHeight>=o&&heightCount<=o+l.listHeight){var C=n[m],j=e(w).attr("data-index",m);if(_&&(heightCount>0&&c.append('<div style="height:'+heightCount+'px"></div>'),_=!1),S){if(y._filterText&&C.toString().toUpperCase().indexOf(y._filterText.toUpperCase())==-1)continue;l.multi?1==y._selectedValue.filter(function(e){return i(e)&&i(C)&&e.toString()===C.toString()}).length&&j.find(".jq-select-item-checkbox").addClass(l.checkboxActivatedCls):(j.find(".jq-select-item-checkbox").remove(),i(y._selectedValue)&&i(C)&&y._selectedValue.toString()===C.toString()&&j.addClass(l.checkboxActivatedCls)),C[l.iconClsField]?j.find(".jq-select-item-icon").addClass(C[l.iconClsField]):j.find(".jq-select-item-icon").remove(),j.find(".jq-select-item-name").html(C).attr("title",C)}else{if(y._filterText&&C[l.displayField].toUpperCase().indexOf(y._filterText.toUpperCase())==-1)continue;l.multi?1==y._selectedValue.filter(function(e){return i(e[l.valueField])&&i(C[l.valueField])&&e[l.valueField].toString()===C[l.valueField].toString()}).length&&j.find(".jq-select-item-checkbox").addClass(l.checkboxActivatedCls):(j.find(".jq-select-item-checkbox").remove(),i(y._selectedValue[l.valueField])&&i(C[l.valueField])&&y._selectedValue[l.valueField].toString()===C[l.valueField].toString()&&j.addClass(l.checkboxActivatedCls)),C[l.iconClsField]?j.find(".jq-select-item-icon").addClass(C[l.iconClsField]):j.find(".jq-select-item-icon").remove(),j.find(".jq-select-item-name").html(C[l.displayField]).attr("title",C[l.displayField])}c.append(j)}heightCount+=l.itemHeight}c.height(s.length*l.itemHeight)}p()}function u(){y._listScrollTop=0,k=e(P).css("min-width",l.triggerWidth),"auto"===l.popupWidth?k.css("width","auto"):isNaN(l.popupWidth)||k.width(l.popupWidth),l.hideFilter?k.find(".jq-select-filter-wrapper").remove():l.keepFilter?k.find(".jq-select-filter").val(y._filterText):(y._filterText="",y._filterData=null),!l.multi||l.hideSelectAll?k.find(".jq-select-select-all").remove():k.find(".jq-select-select-all-name").html(l.selectAllText);var t=k.find(".jq-select-buttons"),i=k.find(".jq-select-buttons-ok"),a=k.find(".jq-select-buttons-clear"),n=k.find(".jq-select-buttons-close"),s=0;l.hideOKButton?i.remove():(i.html(l.okButtonText),s++),l.hideClearButton?a.remove():(a.html(l.clearButtonText),s++),l.hideCloseButton?n.remove():(n.html(l.closeButtonText),s++),0===s?t.remove():t.addClass("buttons-"+s),o(k),F.append(k),r(),g()}function h(){F.children(".jq-select-popup").remove()}function f(){F.find(".jq-select-filter").bind("input",function(e){y._filterText=e.target.value,y._filterData=c()||l.data,r(),o()})}function g(){F.find(".jq-select-select-all").click(function(t){t.stopPropagation();var n=y._filterData||l.data;if(n&&l.multi){var s=[],o=e(this).children(".jq-select-select-all-checkbox"),c=!o.hasClass(l.checkboxActivatedCls);if(o.toggleClass(l.checkboxActivatedCls,c),F.find(".jq-select-select-all-name").html(c?l.deselectAllText:l.selectAllText),l.group){n=e.extend(!0,{},n);for(var d in n)s=s.concat(n[d])}else s=e.extend(!0,[],n);if(c){if(l.group)for(var u in n)y._selectedValue[u]||(y._selectedValue[u]=[]),a(n[u])?n[u]&&n[u].forEach(function(e){0==y._selectedValue[u].filter(function(t){return i(e)&&i(t)&&e.toString()===t.toString()}).length&&y._selectedValue[u].push(e)}):n[u]&&n[u].forEach(function(e){0==y._selectedValue[u].filter(function(t){return i(e[l.valueField])&&i(t[l.valueField])&&e[l.valueField].toString()===t[l.valueField].toString()}).length&&y._selectedValue[u].push(e)});else y._selectedValue=e.extend(!0,[],y._selectedValue),a(n)?n&&n.forEach(function(e){0==y._selectedValue.filter(function(t){return i(e)&&i(t)&&e.toString()===t.toString()}).length&&y._selectedValue.push(e)}):n&&n.forEach(function(e){0==y._selectedValue.filter(function(t){return i(e[l.valueField])&&i(t[l.valueField])&&e[l.valueField].toString()===t[l.valueField].toString()}).length&&y._selectedValue.push(e)});m(s)}else{if(y._selectedValue=e.extend(!0,[],y._selectedValue),l.group){for(var u in n)if(y._selectedValue[u]&&n[u]){var h=a(n[u]);n[u]&&n[u].forEach(function(e){y._selectedValue[u]&&(y._selectedValue[u]=y._selectedValue[u].filter(function(t){return h?i(e)&&i(t)&&e.toString()!==t.toString():i(e[l.valueField])&&i(t[l.valueField])&&e[l.valueField].toString()!==t[l.valueField].toString()}),y._selectedValue[u].length<1&&delete y._selectedValue[u])})}}else a(n)?n&&n.forEach(function(e){y._selectedValue=y._selectedValue.filter(function(t){return i(e)&&i(t)&&e.toString()!==t.toString()})}):n&&n.forEach(function(e){y._selectedValue=y._selectedValue.filter(function(t){return i(e[l.valueField])&&i(t[l.valueField])&&e[l.valueField].toString()!==t[l.valueField].toString()})});x(s)}r({scrollTop:y._listScrollTop})}})}function p(){F.find(".jq-select-group-title").click(function(t){t.stopPropagation();var n=y._filterData||l.data;if(n){var s=!e(this).children(".jq-select-group-checkbox").hasClass(l.checkboxActivatedCls),o=e(this).parents(".jq-select-group"),c=o.attr("data-name");if(n[c]){var d=e.extend(!0,[],n[c]);s?(y._selectedValue=e.extend(!0,[],y._selectedValue),a(n[c])?n[c]&&n[c].forEach(function(e){!y._selectedValue[c]||y._selectedValue[c].length<=0?(y._selectedValue[c]=[],y._selectedValue[c].push(e)):0==y._selectedValue[c].filter(function(t){return i(e)&&i(t)&&e.toString()===t.toString()}).length&&y._selectedValue[c].push(e)}):n[c]&&n[c].forEach(function(e){!y._selectedValue[c]||y._selectedValue[c].length<=0?(y._selectedValue[c]=[],y._selectedValue[c].push(e)):0==y._selectedValue[c].filter(function(t){return i(e[l.valueField])&&i(t[l.valueField])&&e[l.valueField].toString()===t[l.valueField].toString()}).length&&y._selectedValue[c].push(e)}),m(d)):(y._selectedValue=e.extend(!0,[],y._selectedValue),y._selectedValue[c]&&delete y._selectedValue[c],x(d)),r({scrollTop:y._listScrollTop})}}}),l.multi?F.find(".jq-select-item").click(function(t){if(t.stopPropagation(),l.data){var i,n=!e(this).children(".jq-select-item-checkbox").hasClass(l.checkboxActivatedCls);if(l.group){var s=e(this).parents(".jq-select-group"),o=s.attr("data-name");if(!l.data[o])return;var c=e(this).attr("data-index");i=l.data[o][c],n?(y._selectedValue[o]||(y._selectedValue[o]=[]),y._selectedValue[o].push(i)):y._selectedValue[o]&&(y._selectedValue[o]=y._selectedValue[o].filter(function(e){return a(y._selectedValue[o])?e!==i:e[l.valueField]!==i[l.valueField]}))}else{var c=e(this).attr("data-index");i=l.data[c],n?y._selectedValue.push(i):y._selectedValue=y._selectedValue.filter(function(e){return a(y._selectedValue)?e!==i:e[l.valueField]!==i[l.valueField]})}n?m([i]):x([i]),r({scrollTop:y._listScrollTop})}}):F.find(".jq-select-item").mousedown(function(t){if(t.stopPropagation(),l.data){var i;if(l.group){var a=e(this).parents(".jq-select-group"),n=a.attr("data-name");if(!l.data[n])return;i=l.data[n][e(this).attr("data-index")],y._selectedValue={},y._selectedValue[n]=i}else i=l.data[e(this).attr("data-index")],y._selectedValue=i;F.find(".jq-select-item").removeClass(l.checkboxActivatedCls),e(this).addClass(l.checkboxActivatedCls),m(i),r({scrollTop:y._listScrollTop})}})}function v(){F.find(".jq-select-buttons-ok").mousedown(function(e){e.stopPropagation(),V(),h(),F.removeClass("activated"),l.onOK&&l.onOK(y._value)}),F.find(".jq-select-buttons-clear").mousedown(function(e){if(e.stopPropagation(),l.multi){var t=[];if(l.group)for(var i in y._selectedValue)t=t.concat(y._selectedValue[i]);else t=y._selectedValue;y._selectedValue=!l.group&&l.multi?[]:{},x(t)}else y._selectedValue=!l.group&&l.multi?[]:{},l.autoChange&&V();r({scrollTop:y._listScrollTop})}),F.find(".jq-select-buttons-close").mousedown(function(e){e.stopPropagation(),h(),F.removeClass("activated"),b()})}function _(){F.find(".jq-select-list").scroll(function(e){e.stopPropagation(),y._listScrollTop=e.target.scrollTop,r({scrollTop:e.target.scrollTop})})}function m(e){l.onSelect&&l.onSelect(e),l.autoChange&&V()}function x(e){l.onDeselect&&l.onDeselect(e),l.autoChange&&V()}function C(){if(l.data&&l.group&&(y._sortedGroupName=n(l.data)),!(l.data||l.group||t&&!t.is("select"))){var i=t.children("option");if(!(i.length<1)){var a=[];i.each(function(){a.push(e(this).val()||e(this).html())}),l.data=a}}}function j(){if(l.data&&l.value)if(l.multi&&l.group){var t={},i=0;for(var a in l.data)if(l.value[a]){var n=[];l.data[a]&&l.data[a].forEach(function(t){l.value[a]&&l.value[a].forEach(function(a){var s,o;s=e.isPlainObject(t)?t[l.valueField].toString():t.toString(),o=e.isPlainObject(a)?a[l.valueField].toString():a.toString(),s&&o&&s===o&&(n.push(t),i++)})}),n.length>0&&(t[a]=n)}i>0?T.children(".jq-select-text").html(i+" selected").attr("title",i+" selected"):T.children(".jq-select-text").html(l.noSelectText).attr("title",l.noSelectText),y._selectedValue=e.extend(!0,{},t),y._value=e.extend(!0,{},t)}else if(l.multi&&!l.group){var t=[],i=0;l.data&&l.data.forEach(function(a){l.value&&l.value.forEach(function(n){var s,o;s=e.isPlainObject(a)?a[l.valueField].toString():a.toString(),o=e.isPlainObject(n)?n[l.valueField].toString():n.toString(),s&&o&&s===o&&(t.push(a),i++)})}),i>0?T.children(".jq-select-text").html(i+" selected").attr("title",i+" selected"):T.children(".jq-select-text").html(l.noSelectText).attr("title",l.noSelectText),y._selectedValue=e.extend(!0,[],t),y._value=e.extend(!0,[],t)}else if(!l.multi&&l.group){var t={},s="",o=!1;for(var a in l.data){if(o)break;l.value[a]&&l.data[a]&&l.data[a].forEach(function(i){if(!o){var n,c,r,d=l.value[a];return e.isPlainObject(i)?(n=i[l.valueField].toString(),c=i[l.displayField].toString()):(n=i.toString(),c=i.toString()),r=e.isPlainObject(d)?d[l.valueField].toString():d.toString(),n&&r&&n===r?(s=c,t[a]=i,void(o=!0)):void 0}})}t?T.children(".jq-select-text").html(s).attr("title",s):T.children(".jq-select-text").html(l.noSelectText).attr("title",l.noSelectText),y._selectedValue=e.extend(!0,{},t),y._value=e.extend(!0,{},t)}else{var t,s="",o=!1;l.data&&l.data.forEach(function(i){if(!o){var a,n,c,r=l.value;return e.isPlainObject(i)?(a=i[l.valueField].toString(),n=i[l.displayField].toString()):(a=i.toString(),n=i.toString()),c=e.isPlainObject(r)?r[l.valueField].toString():r.toString(),a&&c&&a===c?(s=n,t=i,void(o=!0)):void 0}}),t?T.children(".jq-select-text").html(s).attr("title",s):T.children(".jq-select-text").html(l.noSelectText).attr("title",l.noSelectText),e.isPlainObject(t)?(y._selectedValue=e.extend(!0,{},t),y._value=e.extend(!0,{},t)):(y._selectedValue=t,y._value=t)}}function V(){if(l.data){if(l.multi&&l.group){var t=0;for(var i in y._selectedValue)y._selectedValue.hasOwnProperty(i)&&"function"!=typeof i&&(t+=y._selectedValue[i].length);t>0?T.children(".jq-select-text").html(t+" selected").attr("title",t+" selected"):T.children(".jq-select-text").html(l.noSelectText).attr("title",l.noSelectText),JSON.stringify(y._value)!=JSON.stringify(y._selectedValue)&&(l.onChange&&l.onChange(y._selectedValue),y._value=e.extend(!0,{},y._selectedValue))}else if(l.multi&&!l.group){var t=y._selectedValue.length;t>0?T.children(".jq-select-text").html(t+" selected").attr("title",t+" selected"):T.children(".jq-select-text").html(l.noSelectText).attr("title",l.noSelectText),JSON.stringify(y._value)!=JSON.stringify(y._selectedValue)&&(l.onChange&&l.onChange(y._selectedValue),y._value=e.extend(!0,[],y._selectedValue))}else if(!l.multi&&l.group){var a;for(var i in y._selectedValue)a=y._selectedValue[i];var n=e.isPlainObject(a)?a[l.displayField]?a[l.displayField]:l.noSelectText:a;T.children(".jq-select-text").html(n).attr("title",n),JSON.stringify(y._value)!=JSON.stringify(y._selectedValue)&&(l.onChange&&l.onChange(y._selectedValue),y._value=e.extend(!0,{},y._selectedValue))}else if(e.isPlainObject(y._selectedValue)){var n=y._selectedValue[l.displayField]?y._selectedValue[l.displayField]:l.noSelectText;T.children(".jq-select-text").html(n).attr("title",n),JSON.stringify(y._value)!==JSON.stringify(y._selectedValue)&&(l.onChange&&l.onChange(y._selectedValue),y._value=e.extend(!0,{},y._selectedValue))}else T.children(".jq-select-text").html(y._selectedValue).attr("title",y._selectedValue),y._value!==y._selectedValue&&(l.onChange&&l.onChange(y._selectedValue),y._value=y._selectedValue);l.autoClose&&(h(),F.hasClass("activated")&&(F.removeClass("activated"),b()))}}function S(t){if(e(t.target).is(T)||e(t.target).parents(".jq-select-trigger").is(T)){if(t.stopPropagation(),h(),F.hasClass("activated"))return F.removeClass("activated"),void b();y._isLoading||(F.addClass("activated"),u(),f(),v(),_())}else 0!=e(t.target).parents(".jq-select-wrapper").length&&e(t.target).parents(".jq-select-wrapper").is(F)||(t.stopPropagation(),h(),F.hasClass("activated")&&(F.removeClass("activated"),b()))}function q(){o()}function b(){y._selectedValue=e.extend(!0,!l.group&&l.multi?[]:{},y._value),l.onClose&&l.onClose(y._value)}var F,T,k,y=this;this._value=!l.group&&l.multi?[]:{},this._selectedValue=!l.group&&l.multi?[]:{},this._isLoading=!1,this._filterText="",this._filterData=null,this._listScrollTop=0,this._renderTimeoutIds=null;var O='<div class="jq-select-wrapper"/>',H='<button type="button" class="jq-select-trigger"></button>',P='<div class="jq-select-popup">\t\t\t\t<div class="jq-select-filter-wrapper">\t\t\t\t\t<input type="text" class="jq-select-filter" placeholder="'+l.filterPlaceholder+'"/>\t\t\t\t\t<i class="jq-select-filter-icon '+l.filterIconCls+'"></i>\t\t\t\t</div>\t\t\t\t<label type="text" class="jq-select-select-all">\t\t\t\t\t<div class="jq-select-checkbox jq-select-select-all-checkbox '+l.checkboxIconCls+'"></div>\t\t\t\t\t<span class="jq-select-select-all-name"></span>\t\t\t\t</label>\t\t\t\t<div class="jq-select-list">\t\t\t\t\t<div class="jq-select-list-scroller"></div>\t\t\t\t</div>\t\t\t\t<div class="jq-select-buttons">\t\t\t\t\t<button type="button" class="jq-select-buttons-ok"></button>\t\t\t\t\t<button type="button" class="jq-select-buttons-clear"></button>\t\t\t\t\t<button type="button" class="jq-select-buttons-close"></button>\t\t\t\t</div>\t\t\t </div>',A='<div class="jq-select-group">\t\t\t\t<label class="jq-select-group-title">\t\t\t\t\t<div class="jq-select-checkbox jq-select-group-checkbox '+l.checkboxIconCls+'"></div>\t\t\t\t\t<span class="jq-select-group-title-name"></span>\t\t\t\t</label>\t\t\t\t<div class="jq-select-group-children"></div>\t\t\t </div>',w='<label class="jq-select-item">\t\t\t\t<div class="jq-select-checkbox jq-select-item-checkbox '+l.checkboxIconCls+'"></div>\t\t\t\t<i class="jq-select-item-icon"></i>\t\t\t\t<span class="jq-select-item-name"></span>\t\t\t </label>';return this.init=function(){var i=t.hasClass("jq-select-formated");i||t.addClass("jq-select-formated").hide().wrap(O),F=t.parent().toggleClass("jq-select-option-multi",l.multi).toggleClass("jq-select-option-group",l.group),i?T=F.children(".jq-select-trigger"):(T=e(H),F.prepend(T)),T.css("width",l.triggerWidth).html('<span class="jq-select-text" title="'+l.noSelectText+'">'+l.noSelectText+"</span>").find(".jq-select-icon").remove(),l.iconCls&&T.find(".jq-select-text").before('<i class="jq-select-icon '+l.iconCls+'"></i>'),C(),j(),e(document).on("mousedown",S),e(window).on("resize",q),t.off().on("updateOptions",function(){return l=e.extend(!0,{},e.fn.JQSelect.defaults,l),C(),j(),this}).on("loadingStart",function(){return s(!0),this}).on("loadingEnd",function(){return s(!1),this})},this.destroy=function(){h(),F.removeClass("activated"),e(document).off("mousedown",S),e(window).off("resize",q)},this.init(),{jQSelect:y,originEl:t}}var l={list:[],add:function(e){this.list.push(e)},destroy:function(e){for(var t=this,l=0,i=t.list.length;l<i;l++)if(t.list[l].originEl.is(e)){t.list[l].jQSelect.destroy();break}t.list.splice(l,1)}};e.fn.getValue=function(){if(e(this).hasClass("jq-select-formated"))for(var t=0,i=l.list.length;t<i;t++)if(l.list[t].originEl.is(this))return l.list[t].jQSelect._value},e.fn.JQSelect=function(i){return this.each(function(){l.destroy(e(this)),l.add(new t(e(this),e.extend(!0,{},e.fn.JQSelect.defaults,i)))})},e.fn.JQSelect.defaults={multi:!1,group:!1,data:null,groupPriority:null,valueField:"value",displayField:"label",iconClsField:"iconCls",value:null,iconCls:"",noSelectText:"Please select ...",triggerWidth:200,popupWidth:200,listHeight:300,groupTitleHeight:30,itemHeight:30,selectAllHeight:30,filterHeight:30,buttonsHeight:40,hideFilter:!1,filterIconCls:"",filterPlaceholder:"filter ...",keepFilter:!1,hideSelectAll:!1,selectAllText:"Select All",deselectAllText:"Deselect All",checkboxIconCls:"",checkboxActivatedCls:"activated",hideOKButton:!1,okButtonText:"OK",hideClearButton:!1,clearButtonText:"Clear",hideCloseButton:!1,closeButtonText:"Close",autoClose:!1,autoChange:!0,onSelect:null,onDeselect:null,onChange:null,onOK:null,onClose:null}}(jQuery);