!function(e){function t(l){if(i[l])return i[l].exports;var s=i[l]={i:l,l:!1,exports:{}};return e[l].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,l){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./",t(t.s=1)}([function(e,t){},function(e,t,i){"use strict";function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i(0),function(e){function t(e,t){var i=this;return this.originEl=e,this.options=t,this.wrapperEl=null,this.triggerEl=null,this.popupEl=null,this.data=null,this.filterText="",this.filteredData=null,this.value=[],this.visible=!1,this.disabled=t.disabled,this.init(),{jQSelect:i,originEl:e}}var i={list:[],add:function(e){this.list.push(e)},destroy:function(e){for(var t=this,i=0,l=t.list.length;i<l;i++)if(t.list[i].originEl.is(e)){t.list[i].jQSelect.destroy();break}t.list.splice(i,1)}},n=function(e){return'<div class="jq-select-popup">\n\n                     <div class="jq-select-filter-wrapper">\n                         <input type="text" \n                                class="jq-select-filter" \n                                placeholder="'+e.filterPlaceholder+'"/>\n                         <i class="jq-select-filter-icon '+e.filterIconCls+'"></i>\n                     </div>\n                     \n                     <label type="text" \n                            class="jq-select-select-all">\n                         <input type="checkbox" \n                                class="jq-select-checkbox jq-select-select-all-checkbox '+e.checkboxIconCls+'"/>\n                         <span class="jq-select-select-all-name">'+e.selectAllText+'</span>\n                     </label>\n                     \n                     <div class="jq-select-list">\n                         <div class="jq-select-list-scroller"></div>\n                     </div>\n                     \n                 </div>'},r=function(e,t,i){return void 0!==i&&(e=e>i?i:e),void 0!==t&&(e=e<t?t:e),e},o=function(t,i,l,s){if(!i)return!0;for(;t;){if(e(t).is(l))return s;if(e(t).is(i))return!s;t=t.parentNode}return!1},a=function(e){var t=0;return e.map(function(e){return{rawValue:e,jqSelectIndex:t++}})},c=function(e,t,i){var l=e.length,s=Math.floor(t/i.itemHeight),n=s+Math.ceil(i.listHeight/i.itemHeight);return s-=i.renderBuffer,n+=i.renderBuffer,{start:r(s,0,l-1),stop:r(n,0,l-1)}},p=function(e,t,i){return"object"==(void 0===e?"undefined":s(e))?e[t]||e[i]:e},h=function(e,t,i){return"object"==(void 0===e?"undefined":s(e))?e[i]||e[t]:e},d=function(e,t,i,l){if(!e||e.length<1||!t)return!1;var s=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(s=(o=a.next()).done);s=!0){var c=o.value;if(p(c,i,l)===p(t,i,l))return!0}}catch(e){n=!0,r=e}finally{try{!s&&a.return&&a.return()}finally{if(n)throw r}}return!1},u=function(e,t,i,l){return t?e.filter(function(e){return h(e.rawValue,i,l).toString().toUpperCase().includes(t.toString().toUpperCase())}):e};t.prototype.init=function(){var t=this,i=this.originEl.hasClass("jq-select-formated");i||this.originEl.addClass("jq-select-formated").hide().wrap('<div class="jq-select-wrapper"/>'),this.wrapperEl=this.originEl.parent().toggleClass("multi",this.options.multi).prop("disabled",this.disabled),i?this.triggerEl=this.wrapperEl.children(".jq-select-trigger"):(this.triggerEl=e('<button type="button" class="jq-select-trigger"></button>'),this.wrapperEl.prepend(this.triggerEl)),this.initData(),this.initValue(),this.triggerEl.prop("disabled",this.disabled).find(".jq-select-icon").remove(),this.options.iconCls&&this.triggerEl.find(".jq-select-text").before('<i class="jq-select-icon '+this.options.iconCls+'"></i>'),e(document).on("mousedown",this.mousedownHandler.bind(this)),e(window).on("resize",this.resizeHandler.bind(this)),this.originEl.off().on("enable",function(){return t.disabled=!1,t.triggerEl.prop("disabled",!1),e(this)}).on("disable",function(){return t.disabled=!0,t.triggerEl.prop("disabled",!0),e(this)})},t.prototype.initData=function(){var t=this;if(this.options.data)return void(this.filteredData=this.data=a(this.options.data));if(!this.originEl)return void(this.filteredData=this.data=null);var i=this.originEl.children("option");if(i&&i.length>0){var s=[],n=0;i.each(function(){var i;s.push({rawValue:(i={},l(i,t.options.valueField,e(t).val()),l(i,t.options.displayField,e(t).html()),i),jqSelectIndex:n++})}),this.filteredData=this.data=s}},t.prototype.initValue=function(){if(!this.options.data||this.options.data.length<1||!this.options.value||this.options.value.length<1)this.value=[];else{var e=[],t=!0,i=!1,l=void 0;try{for(var s,n=this.options.value[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){var r=s.value,o=this.options,a=o.valueField,c=o.displayField,h=p(r,a,c),d=!0,u=!1,f=void 0;try{for(var v,g=this.options.data[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var b=v.value;if(p(b,a,c)===h){e.push(b);break}}}catch(e){u=!0,f=e}finally{try{!d&&g.return&&g.return()}finally{if(u)throw f}}}}catch(e){i=!0,l=e}finally{try{!t&&n.return&&n.return()}finally{if(i)throw l}}this.value=e}this.updateValue()},t.prototype.updateValue=function(){var e=this;if(this.value.length>0){this.triggerEl.html(this.value.length+" selected");var t=this.value.map(function(t){return p(t,e.options.valueField,e.options.displayField)}).join(",");this.originEl.html('<option value="'+t+'" selected="selected"></option>')}else this.triggerEl.html(this.options.noSelectText),this.originEl.html("");this.originEl.trigger("change")},t.prototype.showPopup=function(){var t=this;if(this.triggerEl){this.popupEl?this.popupEl.removeClass("hidden"):(this.popupEl=e(n(this.options)).appendTo("body"),this.popupEl.children(".jq-select-list").on("scroll",this.scrollHandler.bind(this)));var i=this.triggerEl.offset();this.popupEl.css({transform:"translate("+i.left+"px, "+(i.top+this.triggerEl.height())+"px)"}).find(".jq-select-list-scroller").css({height:this.filteredData.length*this.options.itemHeight}),this.popupEl.children(".jq-select-list")[0].scrollTop=0,this.wrapperEl.addClass("activated");var l=this.popupEl.children(".jq-select-filter-wrapper");this.options.enableFilter?l.children(".jq-select-filter").on("input",function(e){t.filterText=e.target.value,t.filteredData=u(t.data,t.filterText,t.options.valueField,t.options.displayField),t.popupEl.children(".jq-select-list")[0].scrollTop=0,t.popupEl.find(".jq-select-list-scroller").css({height:t.filteredData.length*t.options.itemHeight}),t.renderList()}):l.remove();var s=this.popupEl.children(".jq-select-select-all");if(this.options.enableSelectAll){var r=this.value.length===this.data.length,o=s.children(".jq-select-select-all-checkbox");s.toggleClass("activated",r),o.prop("checked",r),s.mousedown(function(){var e=!o.is(":checked");t.value=e?t.data.map(function(e){return e.rawValue}):[],t.popupEl.children(".jq-select-select-all").toggleClass("activated",e),t.popupEl.find(".jq-select-item").toggleClass("activated",e),t.popupEl.find(".jq-select-item-checkbox").prop("checked",e),t.updateValue()})}else s.remove();this.renderList()}},t.prototype.renderList=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.popupEl){var l=this,s=this.popupEl.find(".jq-select-list-scroller");if(!this.filteredData||this.filteredData.length<1)return void s.html("");for(var n=this.options.itemHeight,r=c(this.filteredData,i,this.options),o=r.start,a=r.stop,u=this.options,f=u.valueField,v=u.displayField,g=[],b=o;b<=a;b++){(function(i){var l=t.filteredData[i].rawValue,r=t.filteredData[i].jqSelectIndex,o=s.children(".jq-select-item[jq-select-index="+r+"]");if(o[0])return o.css({transform:"translate(0, "+i*n+"px)"}),"continue";o=e((t.options,'<label class="jq-select-item">\n                     <input type="checkbox" \n                            class="jq-select-checkbox jq-select-item-checkbox"/>\n                     <i class="jq-select-item-icon"></i>\n                     <span class="jq-select-item-name"></span>\n                 </label>')).attr("jq-select-index",r).css({height:n,lineHeight:n+"px",transform:"translate(0, "+i*n+"px)"});var a=l[t.options.iconClsField];a?o.children(".jq-select-item-icon").addClass(a):o.children(".jq-select-item-icon").remove(),t.options.multi?d(t.value,l,f,v)&&(o.children(".jq-select-item-checkbox").prop("checked",!0),o.addClass("activated")):o.children(".jq-select-checkbox").remove(),o.children(".jq-select-item-name").html(h(l,f,v)),o.mousedown(function(){if(!t.value||t.value.length<1||!l)t.value=[l],o.addClass("activated");else if(d(t.value,l,f,v)){for(var e=0,i=t.value.length;e<i;e++)if(p(t.value[e],f,v)===p(l,f,v)){t.value.splice(e,1);break}o.removeClass("activated")}else t.value.push(l),o.addClass("activated");var s=t.value.length===t.filteredData.length;t.popupEl.children(".jq-select-select-all").toggleClass("activated",s),t.popupEl.find(".jq-select-select-all-checkbox").prop("checked",s),t.updateValue()}),g.push(o)})(b)}s.children().each(function(){for(var t=parseInt(e(this).attr("jq-select-index")),i=l.filteredData.slice(o,a+1),s=!1,n=0,r=i.length;n<r;n++)if(t===i[n].jqSelectIndex){s=!0;break}s||e(this).remove()}),s.append(g)}},t.prototype.hidePopup=function(){this.popupEl&&this.popupEl.addClass("hidden"),this.wrapperEl.removeClass("activated"),this.visible=!1},t.prototype.mousedownHandler=function(e){if(this.visible=o(e.target,this.triggerEl,this.popupEl,this.visible),!this.visible)return void this.hidePopup();this.wrapperEl.hasClass("activated")||this.showPopup()},t.prototype.scrollHandler=function(e){this.renderList(e.target.scrollTop)},t.prototype.resizeHandler=function(){},t.prototype.destroy=function(){this.triggerEl.remove(),this.originEl.removeClass("jq-select-formated").unwrap(),this.popupEl&&this.popupEl.remove(),this.popupEl=null},e.fn.JQSelect=function(l){return this.each(function(){i.destroy(e(this)),i.add(new t(e(this),e.extend(!0,{},e.fn.JQSelect.defaults,l)))})},e.fn.JQSelect.defaults={multi:!1,data:null,valueField:"value",displayField:"label",iconClsField:"iconCls",value:null,iconCls:"",noSelectText:"Please select ...",listHeight:300,itemHeight:30,renderBuffer:3,disabled:!1,enableFilter:!1,filterPlaceholder:"filter ...",enableSelectAll:!1,selectAllText:"Select All"}}(jQuery)}]);